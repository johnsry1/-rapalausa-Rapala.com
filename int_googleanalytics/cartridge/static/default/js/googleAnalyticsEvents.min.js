!function(e){var n=navigator.userAgent.indexOf("Chrome")>-1,t=navigator.userAgent.indexOf("Safari")>-1;n&&t&&(t=!1),googleAnalyticsEvents={addProduct:function(e){$(".add-to-cart").attr("data-isquickview"),$(".add-all-to-cart").attr("data-isquickview");ga("send","event",Resources.GA_CATEGORY_CART,Resources.GA_ACTION_ADDPRODUCT,e,1),ga("send","event","CART","ADD ITEM",e,1)},brandSwitch:function(e){ga("send","event",Resources.GA_CATEGORY_BRAND,"Click",e,1)},addProductSet:function(){var e=$(".add-all-to-cart").attr("data-isquickview"),n=$(".product-number").children("span").text();ga("send","event",Resources.GA_CATEGORY_CART,Resources.GA_ACTION_ADDALLPRODUCT,n,1),"true"==e?ga("send","event",Resources.GA_CATEGORY_CART,Resources.GA_ACTION_ADDALLPRODUCTQV,n,1):ga("send","event",Resources.GA_CATEGORY_CART,Resources.GA_ACTION_ADDALLPRODUCTPV,n,1)},updateCart:function(){$("#update-cart").on("click",function(e){if(t){e.preventDefault();var n=$(this).closest("form");ga("send","event",Resources.GA_CATEGORY_CART,Resources.GA_ACTION_UPDATEPRODUCT,"",1),setTimeout(function(){n.submit()},500)}else ga("send","event",Resources.GA_CATEGORY_CART,Resources.GA_ACTION_UPDATEPRODUCT,"",1)})},removeProduct:function(){$('.button-text[value="Remove"]').bind("mousedown",function(e){var n=$(this).parent().find("input.gaproductid").val(),t=$(this).parents(".item-user-actions").parent().find("input").val();ga("send","event","CART","DELETE ITEM",n,t)})},deleteProduct:function(e,n){$('.button-text[value="Remove"]').bind("mousedown",function(t){ga("send","event","CART","DELETE ITEM",e,n)})},quickView:function(){var e=$(".product-number span").text();ga("send","event",Resources.GA_ACTION_QUICKVIEW,Resources.GA_CATEGORY_QUICKVIEW,e,1)},miniCart:function(){ga("send","event",Resources.GA_CATEGORY_MINICART,Resources.GA_ACTION_MINICART,"",1)},pagination:function(e,n,t){ga("send","event",e,n,t,1)},login:function(e,n,t){ga("send","event",e,n,t,1)},loginCustomer:function(){ga("send","event","USER","SIGN IN","LOGIN",1)},logout:function(){$(".logout").on("click",function(e){email=$(this).attr("user"),t?(e.preventDefault(),$(".logout").unbind("click"),ga("send","event",Resources.GA_CATEGORY_USER,Resources.GA_ACTION_LOGOUT,email,1),setTimeout(function(){$(".logout").click()},500)):ga("send","event",Resources.GA_CATEGORY_USER,Resources.GA_ACTION_LOGOUT,email,1)})},pdpView:function(e){ga("send","event","PDP VIEW","PRODUCT",e,1)},addPromotion:function(e,n,o){"BILLING"==o?"OK"==n.status?(ga("send","event",Resources.GA_CATEGORY_PROMOTION,"VALID COUPON-BILLING",n.promotionId),1==n.qualified?ga("send","event",Resources.GA_CATEGORY_PROMOTION,"QUALIFIED COUPON-BILLING",n.promotionId):ga("send","event",Resources.GA_CATEGORY_PROMOTION,"NON-QUALIFIED COUPON-BILLING",n.promotionId)):"COUPON_CODE_UNKNOWN"==n.status?ga("send","event",Resources.GA_CATEGORY_PROMOTION,"INVALID COUPON-BILLING",e):"NO_ACTIVE_PROMOTION"==n.status&&ga("send","event",Resources.GA_CATEGORY_PROMOTION,"EXPIRED COUPON-BILLING",e):"OK"==n.status?(ga("send","event",Resources.GA_CATEGORY_PROMOTION,"VALID COUPON-CART",n.promotionId),1==n.qualified?ga("send","event",Resources.GA_CATEGORY_PROMOTION,"QUALIFIED COUPON-CART",n.promotionId):ga("send","event",Resources.GA_CATEGORY_PROMOTION,"NON-QUALIFIED COUPON-CART",n.promotionId),t?setTimeout(function(){location.reload()},200):location.reload()):"COUPON_CODE_UNKNOWN"==n.status?ga("send","event",Resources.GA_CATEGORY_PROMOTION,"INVALID COUPON-CART",e):"NO_ACTIVE_PROMOTION"==n.status&&ga("send","event",Resources.GA_CATEGORY_PROMOTION,"EXPIRED COUPON-CART",e)},removePromotion:function(){$(".rowcoupons .textbutton").on("click",function(e){var n=$(this).parent().prevAll(".item-details").find(".cartcoupon .value").text();t?(e.preventDefault(),$(".rowcoupons .textbutton").unbind("click"),ga("send","event",Resources.GA_CATEGORY_PROMOTION,Resources.GA_ACTION_REMOVEPROMOTION,n,1),setTimeout(function(){$(".rowcoupons .textbutton").click()},500)):ga("send","event",Resources.GA_CATEGORY_PROMOTION,Resources.GA_ACTION_REMOVEPROMOTION,n,1)})},searchHits:function(e,n,t){var o=window.location;"Enter Keyword or Item #"!=t&&o.toString().search("&")<0&&ga("send","event","SEARCH RESULTS",e,n,1)},navigation:function(){$(".menu-category > li > a").on("click",function(e){var n=$(this).text();t?(e.preventDefault(),c_href=$(this).attr("href"),ga("send","event",Resources.GA_CATEGORY_NAVIGATION,Resources.GA_ACTION_CATEGORY,n,1),setTimeout(function(){document.location.href=c_href},500)):ga("send","event",Resources.GA_CATEGORY_NAVIGATION,Resources.GA_ACTION_CATEGORY,n,1)})},cartCouponAjax:function(){var e=$(".cart-coupon-code #add-coupon"),n=$("form input[name$='_couponCode']");e.on("click",function(e){e.preventDefault();var t=$("form#cart-items-form");n=n||t.find("input[name$='_couponCode']");var o=o||t.find("div.redemption.coupon"),s=n.val();if(0===s.length){o.html("");var a=o.find("span.error");return 0===a.length&&(a=$("<span>").addClass("error").appendTo(o)),void a.html(Resources.COUPON_CODE_MISSING)}o.find("span.error").html("");var r=Urls.addCoupon+"?couponCode="+s+"&format=ajax";$.getJSON(r,function(e){var n=!1,t="";if(googleAnalyticsEvents.addPromotion(s,e,"CART"),e?e.success||(t=(t=(t=e.message).split("<").join("&lt;")).split(">").join("&gt;"),n=!0):(t=Resources.BAD_RESPONSE,n=!0),n)return 0===o.find("span.error").length&&$("<span>").addClass("error").appendTo(o),void o.html(t);o.html(e.message)})})},productDetails:function(e,n,t){ga("send","event",e,n,t,1)},filterSelect:function(e){ga("send","event","PRODUCT","FILTER",e,1)},cjValuesToGa:function(e,n){ga("send","event",e,n,"",1,{nonInteraction:!0})},orderConfirm:function(e){ga("send","event","ORDER CONFIRMATION","ORDER",e,1)}},$(document).ready(function(){googleAnalyticsEvents.removeProduct(),googleAnalyticsEvents.navigation(),googleAnalyticsEvents.removePromotion(),googleAnalyticsEvents.updateCart(),googleAnalyticsEvents.logout()})}(window.app=window.app||{},jQuery);